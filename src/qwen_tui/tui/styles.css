/* Qwen-TUI Styles */

/* Main container */
#main-container {
    layout: horizontal;
    height: 100%;
}

/* Chat area */
#chat-area {
    width: 70%;
    layout: vertical;
    height: 100%;
}

#chat-scroll {
    height: 1fr;
    min-height: 0;
    padding: 1;
    border: solid $primary;
    overflow-y: auto;
    scrollbar-background: $surface;
    scrollbar-color: $primary;
}

#input-panel {
    height: auto;
    min-height: 3;
    max-height: 5;
    padding: 1;
    layout: horizontal;
}

#message-input {
    width: 80%;
}

#send-button {
    width: 20%;
    margin-left: 1;
}

/* Side panels */
#side-panels {
    width: 30%;
    layout: vertical;
}

#backend-panel, #status-panel {
    height: 50%;
    padding: 1;
    border: solid $accent;
    margin: 1;
}

#backend-panel {
}

#status-panel {
}

/* Panel titles */
.panel-title {
    text-style: bold;
    color: $primary;
    margin-bottom: 1;
}

/* Hidden elements */
.hidden {
    display: none;
}

/* Message styling */
.user-message {
    color: $text;
    margin-bottom: 1;
}

.assistant-message {
    color: $success;
    margin-bottom: 1;
}

.system-message {
    color: $warning;
    text-style: italic;
    margin-bottom: 1;
}

.error-message {
    color: $error;
    text-style: bold;
    margin-bottom: 1;
}

/* Responsive design for small terminals */
.compact-layout #chat-area {
    width: 100%;
}

.compact-layout #side-panels {
    display: none;
}

/* Ensure minimum heights for functionality */
#input-panel {
    min-height: 3;
    max-height: 5;
}

#message-input {
    min-height: 1;
}

#send-button {
    min-height: 1;
    min-width: 8;
}

/* Compact layout adjustments */
.compact-layout #input-panel {
    height: 3;
    min-height: 3;
}

.compact-layout #chat-scroll {
    height: 1fr;
    min-height: 10;
}

/* Very small screen adjustments */
Screen {
    min-width: 30;
    min-height: 12;
}

/* Extra compact layout for tiny screens */
.ultra-compact #input-panel {
    height: 2;
    min-height: 2;
    padding: 0;
}

.ultra-compact #chat-scroll {
    height: 1fr;
    min-height: 8;
    padding: 0 1;
}

.ultra-compact #message-input {
    width: 65%;
}

.ultra-compact #send-button {
    width: 35%;
    margin-left: 0;
}

/* Footer adjustments for small screens */
Footer {
    height: 1;
    overflow: hidden;
}

/* Model Selector Modal Styles */
#model-selector {
    width: 80%;
    height: 70%;
    background: $surface;
    border: solid $primary;
    margin: 2;
    padding: 1;
    min-width: 50;
    min-height: 15;
}

/* Responsive model selector for small screens */
Screen.compact-layout #model-selector {
    width: 95%;
    height: 85%;
    margin: 1;
    padding: 0;
}

#selector-title {
    dock: top;
    height: 1;
    text-align: center;
    text-style: bold;
    color: $primary;
    margin-bottom: 1;
}

#models-table {
    height: 100%;
    border: solid $accent;
    scrollbar-background: $surface;
    scrollbar-color: $primary;
}

#selector-buttons {
    dock: bottom;
    height: 3;
    margin-top: 1;
    align: center middle;
}

#select-btn {
    margin-right: 2;
}

#cancel-btn {
    margin-left: 2;
}

/* Dark theme adjustments */
Screen {
    background: $surface;
}

Header {
    background: $primary;
    color: $text;
}

Footer {
    background: $primary;
    color: $text;
}

/* Input styling */
Input {
    background: $surface;
    color: $text;
    border: solid $accent;
}

Input:focus {
    border: solid $primary;
}

/* Button styling */
Button {
    background: $primary;
    color: $text;
}

Button:hover {
    background: $accent;
}

Button.-primary {
    background: $success;
    color: $text;
}

Button.-primary:hover {
    background: $warning;
}

/* Thinking and Action Widget Styles */
.thinking-widget {
    background: $surface;
    border-left: solid $warning;
    padding: 0 1;
    margin: 0 0 1 0;
    color: $text;
    cursor: pointer;
}

.thinking-widget:hover {
    background: $accent;
}

.action-widget {
    background: $surface;
    border-left: solid $primary;
    padding: 0 1;
    margin: 0 0 1 0;
    color: $text;
    border-radius: 1;
}

.action-widget.running {
    border-left: solid $warning;
    background: lighten($warning, 80%);
}

.action-widget.completed {
    border-left: solid $success;
    background: lighten($success, 80%);
}

.action-widget.error {
    border-left: solid $error;
    background: lighten($error, 80%);
}

/* Thinking animation styles */
.thinking-widget .spinner {
    color: $warning;
    text-style: bold;
}

.thinking-widget .expanded {
    background: $surface;
    border: solid $accent;
    padding: 1;
    margin: 1 0;
}

/* Action status indicators */
.action-widget .status-running {
    color: $warning;
    text-style: bold;
}

.action-widget .status-completed {
    color: $success;
    text-style: bold;
}

.action-widget .status-error {
    color: $error;
    text-style: bold;
}

.action-widget .parameters {
    color: $text;
    text-style: italic;
    opacity: 0.7;
}

.action-widget .result {
    color: $text;
    margin-top: 1;
    padding-left: 2;
}